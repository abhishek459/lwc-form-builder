<template>
	<lightning-layout>
		<lightning-layout-item size="12" padding="around-small" small-device-size="9" medium-device-size="9"
			large-device-size="9">
			<div class="slds-card slds-p-around_medium">
				<template for:each={layouts} for:item="layout" for:index="layoutIndex">
					<div onclick={layoutClicked} data-layout-index={layoutIndex} class="slds-box slds-m-bottom_medium"
						key={layout.Id}>
						<template lwc:if={layout.fields}>
							<lightning-layout data-layout-index={layoutIndex} multiple-rows>
								<template for:each={layout.fields} for:item="field" for:index="fieldIndex">
									<lightning-layout-item key={field.Id} data-layout-index={layoutIndex}
										data-field-index={fieldIndex} size="12" medium-device-size="6"
										large-device-size="3">
										<div class="inputContainer slds-p-horizontal_small">
											<lightning-input data-layout-index={layoutIndex}
												data-field-index={fieldIndex} type="text" variant="standard"
												label="label">
											</lightning-input>
										</div>
									</lightning-layout-item>
								</template>
							</lightning-layout>
						</template>
						<div data-layout-index={layoutIndex} class="slds-m-around_small slds-align_absolute-center">
							<lightning-button data-layout-index={layoutIndex} onclick={addField} variant="base"
								label="Add Field">
							</lightning-button>
						</div>
					</div>
				</template>
				<div class="slds-box slds-p-around_medium slds-align_absolute-center">
					<lightning-button variant="base" label="Add Layout" onclick={addLayout}></lightning-button>
				</div>

			</div>
		</lightning-layout-item>
		<lightning-layout-item size="12" padding="around-small" small-device-size="3" medium-device-size="3"
			large-device-size="3">
			<div class="slds-card slds-p-around_medium">
				Configuration Panel
			</div>
		</lightning-layout-item>
	</lightning-layout>
</template>